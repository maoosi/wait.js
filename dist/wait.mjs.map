{"version":3,"file":"wait.mjs","sources":["../src/wait.js"],"sourcesContent":["class Wait {\n\n    constructor () {\n    // initiate wait vars\n        this.waitQueue = []\n        this.waitExecution = false\n    }\n\n    handle (context, func, milliseconds = false) {\n    // handle wait\n        this.waitQueue.push({\n            'func': func,\n            'timeout': this._isAsyncFunc(func) ? 'async' : milliseconds\n        })\n\n        if (!this.waitExecution) this._next()\n\n        return context\n    }\n\n    pause (context, milliseconds, func = () => {}) {\n    // handle wait pause\n        return this.handle(context, func, milliseconds)\n    }\n\n    _isAsyncFunc (func) {\n    // does function contains done()?\n        return func.toString().search('done()') > -1\n    }\n\n    _exec (func) {\n    // execute the function\n        func.call(this, (() => { this._next() }))\n    }\n\n    _next () {\n    // execute next\n        if (this.waitQueue.length > 0) {\n            this.waitExecution = true\n\n            let c = this.waitQueue.shift()\n            let f = c['func']\n            let t = c['timeout']\n\n            if (t === 'async') {\n                this._exec(f)\n            } else if (t !== false) {\n                this._exec(f)\n                setTimeout(() => { this._next() }, t)\n            } else {\n                this._exec(f)\n                this._next()\n            }\n        } else {\n            this.waitExecution = false\n        }\n    }\n\n}\n\nexport default (...args) => { return new Wait(...args) }\n"],"names":["Wait","waitQueue","waitExecution","context","func","milliseconds","push","this","_isAsyncFunc","_next","handle","toString","search","call","length","c","shift","f","t","_exec","args"],"mappings":";;;;;;;;;+WAAMA,yDAIOC,kBACAC,eAAgB,qDAGjBC,EAASC,MAAMC,uEAEdJ,UAAUK,WACHF,UACGG,KAAKC,aAAaJ,GAAQ,QAAUC,IAG9CE,KAAKL,eAAeK,KAAKE,QAEvBN,gCAGJA,EAASE,MAAcD,0DAAO,mBAE1BG,MAAKG,OAAOP,EAASC,EAAMC,wCAGxBD,SAEHA,GAAKO,WAAWC,OAAO,WAAY,gCAGvCR,gBAEES,KAAKN,KAAO,aAAaE,wDAK1BF,KAAKN,UAAUa,OAAS,EAAG,MACtBZ,eAAgB,KAEjBa,GAAIR,KAAKN,UAAUe,QACnBC,EAAIF,EAAA,KACJG,EAAIH,EAAA,OAEE,WAANG,OACKC,MAAMF,GACJC,KAAM,QACRC,MAAMF,cACA,aAAaR,SAAWS,UAE9BC,MAAMF,QACNR,mBAGJP,eAAgB,gBAMlB,sCAAIkB,kFAAsBpB,mBAAQoB"}